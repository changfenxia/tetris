var Ge=Object.defineProperty;var qe=(e,t,n)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fe=(e,t,n)=>qe(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function x(){}const Ie=e=>e;function Le(e){return e()}function _e(){return Object.create(null)}function H(e){e.forEach(Le)}function de(e){return typeof e=="function"}function X(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let re;function we(e,t){return e===t?!0:(re||(re=document.createElement("a")),re.href=t,e===re.href)}function Fe(e){return Object.keys(e).length===0}const Me=typeof window<"u";let He=Me?()=>window.performance.now():()=>Date.now(),me=Me?e=>requestAnimationFrame(e):x;const D=new Set;function Re(e){D.forEach(t=>{t.c(e)||(D.delete(t),t.f())}),D.size!==0&&me(Re)}function ze(e){let t;return D.size===0&&me(Re),{promise:new Promise(n=>{D.add(t={c:e,f:n})}),abort(){D.delete(t)}}}function g(e,t){e.appendChild(t)}function Ne(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ue(e){const t=v("style");return t.textContent="/* empty */",Ke(Ne(e),t),t.sheet}function Ke(e,t){return g(e.head||e,t),t.sheet}function N(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function G(e){return document.createTextNode(e)}function C(){return G(" ")}function Te(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function We(e){return Array.from(e.childNodes)}function W(e,t){t=""+t,e.data!==t&&(e.data=t)}function ye(e,t,n){e.classList.toggle(t,!!n)}function Be(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}const ie=new Map;let le=0;function Je(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Qe(e,t){const n={stylesheet:Ue(t),rules:{}};return ie.set(e,n),n}function be(e,t,n,r,s,i,o,l=0){const c=16.666/r;let f=`{
`;for(let b=0;b<=1;b+=c){const k=t+(n-t)*i(b);f+=b*100+`%{${o(k,1-k)}}
`}const d=f+`100% {${o(n,1-n)}}
}`,h=`__svelte_${Je(d)}_${l}`,p=Ne(e),{stylesheet:u,rules:a}=ie.get(p)||Qe(p,e);a[h]||(a[h]=!0,u.insertRule(`@keyframes ${h} ${d}`,u.cssRules.length));const w=e.style.animation||"";return e.style.animation=`${w?`${w}, `:""}${h} ${r}ms linear ${s}ms 1 both`,le+=1,h}function Ve(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(e.style.animation=r.join(", "),le-=s,le||Xe())}function Xe(){me(()=>{le||(ie.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&I(t)}),ie.clear())})}let Q;function J(e){Q=e}function pe(){if(!Q)throw new Error("Function called outside component initialization");return Q}function ge(e){pe().$$.on_mount.push(e)}function Ye(e){pe().$$.on_destroy.push(e)}function Ze(){const e=pe();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=Be(t,n,{cancelable:r});return s.slice().forEach(o=>{o.call(e,i)}),!i.defaultPrevented}return!0}}const B=[],ce=[];let q=[];const ve=[],$e=Promise.resolve();let he=!1;function et(){he||(he=!0,$e.then(je))}function V(e){q.push(e)}const ae=new Set;let T=0;function je(){if(T!==0)return;const e=Q;do{try{for(;T<B.length;){const t=B[T];T++,J(t),tt(t.$$)}}catch(t){throw B.length=0,T=0,t}for(J(null),B.length=0,T=0;ce.length;)ce.pop()();for(let t=0;t<q.length;t+=1){const n=q[t];ae.has(n)||(ae.add(n),n())}q.length=0}while(B.length);for(;ve.length;)ve.pop()();he=!1,ae.clear(),J(e)}function tt(e){if(e.fragment!==null){e.update(),H(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}function nt(e){const t=[],n=[];q.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),q=t}let z;function rt(){return z||(z=Promise.resolve(),z.then(()=>{z=null})),z}function ue(e,t,n){e.dispatchEvent(Be(`${t?"intro":"outro"}${n}`))}const oe=new Set;let O;function st(){O={r:0,c:[],p:O}}function ot(){O.r||H(O.c),O=O.p}function L(e,t){e&&e.i&&(oe.delete(e),e.i(t))}function j(e,t,n,r){if(e&&e.o){if(oe.has(e))return;oe.add(e),O.c.push(()=>{oe.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const it={duration:0};function Ee(e,t,n,r){let i=t(e,n,{direction:"both"}),o=r?0:1,l=null,c=null,f=null,d;function h(){f&&Ve(e,f)}function p(a,w){const b=a.b-o;return w*=Math.abs(b),{a:o,b:a.b,d:b,duration:w,start:a.start,end:a.start+w,group:a.group}}function u(a){const{delay:w=0,duration:b=300,easing:k=Ie,tick:S=x,css:E}=i||it,y={start:He()+w,b:a};a||(y.group=O,O.r+=1),"inert"in e&&(a?d!==void 0&&(e.inert=d):(d=e.inert,e.inert=!0)),l||c?c=y:(E&&(h(),f=be(e,o,a,b,w,k,E)),a&&S(0,1),l=p(y,b),V(()=>ue(e,a,"start")),ze(m=>{if(c&&m>c.start&&(l=p(c,b),c=null,ue(e,l.b,"start"),E&&(h(),f=be(e,o,l.b,l.duration,0,k,i.css))),l){if(m>=l.end)S(o=l.b,1-o),ue(e,l.b,"end"),c||(l.b?h():--l.group.r||H(l.group.c)),l=null;else if(m>=l.start){const A=m-l.start;o=l.a+l.d*k(A/l.duration),S(o,1-o)}}return!!(l||c)}))}return{run(a){de(i)?rt().then(()=>{i=i({direction:a?"in":"out"}),u(a)}):u(a)},end(){h(),l=c=null}}}function se(e){e&&e.c()}function U(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),V(()=>{const i=e.$$.on_mount.map(Le).filter(de);e.$$.on_destroy?e.$$.on_destroy.push(...i):H(i),e.$$.on_mount=[]}),s.forEach(V)}function K(e,t){const n=e.$$;n.fragment!==null&&(nt(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(e,t){e.$$.dirty[0]===-1&&(B.push(e),et(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(e,t,n,r,s,i,o=null,l=[-1]){const c=Q;J(e);const f=e.$$={fragment:null,ctx:[],props:i,update:x,not_equal:s,bound:_e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:_e(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};o&&o(f.root);let d=!1;if(f.ctx=n?n(e,t.props||{},(h,p,...u)=>{const a=u.length?u[0]:p;return f.ctx&&s(f.ctx[h],f.ctx[h]=a)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](a),d&&lt(e,h)),p}):[],f.update(),d=!0,H(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){const h=We(t.target);f.fragment&&f.fragment.l(h),h.forEach(I)}else f.fragment&&f.fragment.c();t.intro&&L(e.$$.fragment),U(e,t.target,t.anchor),je()}J(c)}class Z{constructor(){fe(this,"$$");fe(this,"$$set")}$destroy(){K(this,1),this.$destroy=x}$on(t,n){if(!de(n))return x;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Fe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ct="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ct);const M=10,F=20,P=30,Pe=["Ты удалил этот ряд, как настоящий профессионал!","Ты прирожденный игрок, приятель!","Этот ход был круче, чем мои фильмы.","Транспортировщик линий!","Взял нож - режь, взял дошик - ешь.","Я живу, как карта ляжет. Ты живёшь, как мамка скажет.","Если заблудился в лесу, иди домой.","Никогда не сдавайтесь, идите к своей цели! А если будет сложно – сдавайтесь","Работа — это не волк. Работа — ворк. А волк — это ходить.","Если тебе где-то не рады в рваных носках, то и в целых туда идти не стоит.","Без подошвы тапочки — это просто тряпочки.","Я вообще делаю что хочу. Хочу импланты — звоню врачу.","В жизни всегда есть две дороги: одна — первая, а другая — вторая."],ke=["images/statham1.jpg","images/statham2.jpg","images/statham3.jpg","images/statham4.jpg"],Ae="images/statham-face.jpg",Se={I:{shape:[[1,1,1,1]],color:"#00f0f0"},O:{shape:[[1,1],[1,1]],color:"#f0f000"},T:{shape:[[0,1,0],[1,1,1]],color:"#a000f0"},S:{shape:[[0,1,1],[1,1,0]],color:"#00f000"},Z:{shape:[[1,1,0],[0,1,1]],color:"#f00000"},J:{shape:[[1,0,0],[1,1,1]],color:"#0000f0"},L:{shape:[[0,0,1],[1,1,1]],color:"#f0a000"}};function R(e,t,n){return t.shape.every((r,s)=>r.every((i,o)=>{let l=n.x+o,c=n.y+s;return i===0||l>=0&&l<M&&c<F&&e[c]&&e[c][l]===0}))}function ft(e,t,n){const r={...n,y:n.y+1};return R(e,t,r)?r:!1}function at(e,t,n){const r=e.map(s=>[...s]);return t.shape.forEach((s,i)=>{s.forEach((o,l)=>{o&&r[i+n.y]&&r[i+n.y][l+n.x]!==void 0&&(r[i+n.y][l+n.x]=o)})}),r}function ut(e){let t=e.filter(r=>!r.every(s=>s));const n=e.length-t.length;for(;t.length<e.length;)t.unshift(new Array(e[0].length).fill(0));return{board:t,linesCleared:n}}function ht(e,t){return[0,40,100,300,1200][e]*(t+1)}function dt(e){let t,n;return{c(){t=v("div"),n=v("canvas"),_(n,"width",M*P),_(n,"height",F*P),_(n,"class","game-board svelte-qgb2b6"),_(t,"class","game-board-container svelte-qgb2b6")},m(r,s){N(r,t,s),g(t,n),e[5](n)},p:x,i:x,o:x,d(r){r&&I(t),e[5](null)}}}function mt(e,t,n){let{board:r=Array(F).fill().map(()=>Array(M).fill(0))}=t,{currentPiece:s}=t,{currentPosition:i}=t;Ze();let o,l,c,f=!1;ge(()=>{n(4,l=o.getContext("2d")),c=new Image,c.src=Ae,c.onload=()=>{console.log("Statham image loaded successfully"),f=!0,d()},c.onerror=u=>{console.error("Failed to load Statham image:",u),console.error("Attempted image path:",Ae),f=!1,d()},d()});function d(){if(l){l.clearRect(0,0,o.width,o.height);for(let u=0;u<F;u++)for(let a=0;a<M;a++)r[u][a]&&h(a*P,u*P);s&&i&&s.shape.forEach((u,a)=>{u.forEach((w,b)=>{if(w){const k=(i.x+b)*P,S=(i.y+a)*P;h(k,S)}})})}}function h(u,a){if(n(4,l.fillStyle="#666666",l),l.fillRect(u,a,P,P),f)try{const w=document.createElement("canvas");w.width=P,w.height=P,w.getContext("2d").drawImage(c,0,0,P,P),l.drawImage(w,u,a)}catch(w){console.error("Error drawing scaled image:",w)}n(4,l.strokeStyle="#000",l),n(4,l.lineWidth=2,l),l.strokeRect(u,a,P,P)}function p(u){ce[u?"unshift":"push"](()=>{o=u,n(0,o)})}return e.$$set=u=>{"board"in u&&n(1,r=u.board),"currentPiece"in u&&n(2,s=u.currentPiece),"currentPosition"in u&&n(3,i=u.currentPosition)},e.$$.update=()=>{e.$$.dirty&30&&(r||s||i)&&l&&d()},[o,r,s,i,l,p]}class pt extends Z{constructor(t){super(),Y(this,t,mt,dt,X,{board:1,currentPiece:2,currentPosition:3})}}function gt(e){let t,n,r,s;return{c(){t=v("div"),n=v("h3"),n.textContent="Next Piece",r=C(),s=v("canvas"),_(n,"class","svelte-owzvpt"),_(s,"width",e[2]),_(s,"height",e[1]),_(s,"class","next-piece-canvas svelte-owzvpt"),_(t,"class","next-piece svelte-owzvpt")},m(i,o){N(i,t,o),g(t,n),g(t,r),g(t,s),e[5](s)},p(i,[o]){o&4&&_(s,"width",i[2]),o&2&&_(s,"height",i[1])},i:x,o:x,d(i){i&&I(t),e[5](null)}}}function _t(e,t,n){let r,s,{piece:i}=t,o,l,c;ge(()=>{n(4,l=o.getContext("2d")),c=new Image,c.src="/images/statham-face.jpg",f()});function f(){!l||!i||(l.clearRect(0,0,o.width,o.height),i.shape.forEach((p,u)=>{p.forEach((a,w)=>{a&&d(w*P,u*P)})}))}function d(p,u){const a=l.createPattern(c,"repeat");n(4,l.fillStyle=a,l),l.fillRect(p,u,P,P),n(4,l.strokeStyle="#000",l),l.strokeRect(p,u,P,P)}function h(p){ce[p?"unshift":"push"](()=>{o=p,n(0,o)})}return e.$$set=p=>{"piece"in p&&n(3,i=p.piece)},e.$$.update=()=>{e.$$.dirty&8&&n(2,r=i?i.shape[0].length*P:P*4),e.$$.dirty&8&&n(1,s=i?i.shape.length*P:P*4),e.$$.dirty&24&&i&&l&&f()},[o,s,r,i,l,h]}class wt extends Z{constructor(t){super(),Y(this,t,_t,gt,X,{piece:3})}}function yt(e){let t,n,r,s,i,o,l,c,f,d,h,p,u,a,w,b,k,S;return{c(){t=v("div"),n=v("div"),r=v("h3"),r.textContent="Score",s=C(),i=v("p"),o=G(e[0]),l=C(),c=v("div"),f=v("h3"),f.textContent="Level",d=C(),h=v("p"),p=G(e[1]),u=C(),a=v("div"),w=v("h3"),w.textContent="Lines",b=C(),k=v("p"),S=G(e[2]),_(r,"class","svelte-wbf86x"),_(i,"class","svelte-wbf86x"),_(n,"class","score-item svelte-wbf86x"),_(f,"class","svelte-wbf86x"),_(h,"class","svelte-wbf86x"),_(c,"class","score-item svelte-wbf86x"),_(w,"class","svelte-wbf86x"),_(k,"class","svelte-wbf86x"),_(a,"class","score-item svelte-wbf86x"),_(t,"class","score-board svelte-wbf86x")},m(E,y){N(E,t,y),g(t,n),g(n,r),g(n,s),g(n,i),g(i,o),g(t,l),g(t,c),g(c,f),g(c,d),g(c,h),g(h,p),g(t,u),g(t,a),g(a,w),g(a,b),g(a,k),g(k,S)},p(E,[y]){y&1&&W(o,E[0]),y&2&&W(p,E[1]),y&4&&W(S,E[2])},i:x,o:x,d(E){E&&I(t)}}}function bt(e,t,n){let{score:r=0}=t,{level:s=1}=t,{lines:i=0}=t;return e.$$set=o=>{"score"in o&&n(0,r=o.score),"level"in o&&n(1,s=o.level),"lines"in o&&n(2,i=o.lines)},[r,s,i]}class vt extends Z{constructor(t){super(),Y(this,t,bt,yt,X,{score:0,level:1,lines:2})}}function xe(e,{delay:t=0,duration:n=400,easing:r=Ie}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}function Ce(e){let t,n,r,s,i,o,l,c;return{c(){t=v("div"),n=v("img"),s=C(),i=v("p"),o=G(e[1]),we(n.src,r=e[2])||_(n,"src",r),_(n,"alt","Jason Statham"),_(n,"class","statham-image svelte-fx4k8r"),_(i,"class","quote svelte-fx4k8r"),_(t,"class","effect-content svelte-fx4k8r")},m(f,d){N(f,t,d),g(t,n),g(t,s),g(t,i),g(i,o),c=!0},p(f,d){(!c||d&4&&!we(n.src,r=f[2]))&&_(n,"src",r),(!c||d&2)&&W(o,f[1])},i(f){c||(f&&V(()=>{c&&(l||(l=Ee(t,xe,{duration:300},!0)),l.run(1))}),c=!0)},o(f){f&&(l||(l=Ee(t,xe,{duration:300},!1)),l.run(0)),c=!1},d(f){f&&I(t),f&&l&&l.end()}}}function Et(e){let t,n=e[0]&&Ce(e);return{c(){t=v("div"),n&&n.c(),_(t,"class","effect-container svelte-fx4k8r"),ye(t,"visible",e[0])},m(r,s){N(r,t,s),n&&n.m(t,null)},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&L(n,1)):(n=Ce(r),n.c(),L(n,1),n.m(t,null)):n&&(st(),j(n,1,1,()=>{n=null}),ot()),s&1&&ye(t,"visible",r[0])},i(r){L(n)},o(r){j(n)},d(r){r&&I(t),n&&n.d()}}}function Pt(e,t,n){let{show:r=!1}=t,s="",i="";return e.$$set=o=>{"show"in o&&n(0,r=o.show)},e.$$.update=()=>{e.$$.dirty&1&&r&&(n(1,s=Pe[Math.floor(Math.random()*Pe.length)]),n(2,i=ke[Math.floor(Math.random()*ke.length)]))},[r,s,i]}class kt extends Z{constructor(t){super(),Y(this,t,Pt,Et,X,{show:0})}}function Oe(e){let t,n,r;return{c(){t=v("button"),t.textContent="Pause",_(t,"tabindex","-1"),_(t,"class","svelte-1bp3my1")},m(s,i){N(s,t,i),n||(r=Te(t,"click",e[11]),n=!0)},p:x,d(s){s&&I(t),n=!1,r()}}}function At(e){let t,n,r,s,i,o,l,c,f,d,h,p=e[7]?"New Game":e[8]?"Resume":"Start",u,a,w,b,k,S,E;r=new kt({props:{show:e[9]}}),o=new wt({props:{piece:e[2]}}),c=new vt({props:{score:e[4],level:e[5],lines:e[6]}});let y=!e[7]&&!e[8]&&Oe(e);return b=new pt({props:{board:e[0],currentPiece:e[1],currentPosition:e[3]}}),{c(){t=v("main"),n=v("div"),se(r.$$.fragment),s=C(),i=v("div"),se(o.$$.fragment),l=C(),se(c.$$.fragment),f=C(),d=v("div"),h=v("button"),u=G(p),a=C(),y&&y.c(),w=C(),se(b.$$.fragment),_(h,"tabindex","-1"),_(h,"class","svelte-1bp3my1"),_(d,"class","controls svelte-1bp3my1"),_(i,"class","game-info svelte-1bp3my1"),_(n,"class","game-container svelte-1bp3my1"),_(t,"class","svelte-1bp3my1")},m(m,A){N(m,t,A),g(t,n),U(r,n,null),g(n,s),g(n,i),U(o,i,null),g(i,l),U(c,i,null),g(i,f),g(i,d),g(d,h),g(h,u),g(d,a),y&&y.m(d,null),g(n,w),U(b,n,null),k=!0,S||(E=Te(h,"click",e[10]),S=!0)},p(m,[A]){const $={};A&512&&($.show=m[9]),r.$set($);const ee={};A&4&&(ee.piece=m[2]),o.$set(ee);const te={};A&16&&(te.score=m[4]),A&32&&(te.level=m[5]),A&64&&(te.lines=m[6]),c.$set(te),(!k||A&384)&&p!==(p=m[7]?"New Game":m[8]?"Resume":"Start")&&W(u,p),!m[7]&&!m[8]?y?y.p(m,A):(y=Oe(m),y.c(),y.m(d,null)):y&&(y.d(1),y=null);const ne={};A&1&&(ne.board=m[0]),A&2&&(ne.currentPiece=m[1]),A&8&&(ne.currentPosition=m[3]),b.$set(ne)},i(m){k||(L(r.$$.fragment,m),L(o.$$.fragment,m),L(c.$$.fragment,m),L(b.$$.fragment,m),k=!0)},o(m){j(r.$$.fragment,m),j(o.$$.fragment,m),j(c.$$.fragment,m),j(b.$$.fragment,m),k=!1},d(m){m&&I(t),K(r),K(o),K(c),y&&y.d(),K(b),S=!1,E()}}}function St(e,t,n){let r=Array(F).fill().map(()=>Array(M).fill(0)),s=null,i=null,o={x:0,y:0},l=0,c=0,f=0,d,h=!1,p=!1,u=!1;function a(){const E=Object.keys(Se);return{...Se[E[Math.floor(Math.random()*E.length)]]}}function w(){console.log("Starting game..."),d&&clearInterval(d),n(0,r=Array(F).fill().map(()=>Array(M).fill(0))),n(1,s=a()),n(2,i=a()),n(3,o={x:Math.floor(M/2)-1,y:0}),n(4,l=0),n(5,c=0),n(6,f=0),n(7,h=!1),n(8,p=!1),d=setInterval(b,1e3-c*50),console.log("Game loop started")}function b(){if(p||h)return;console.log("Game update tick");const E=ft(r,s,o);if(E)n(3,o=E);else{console.log("Piece landed"),n(0,r=at(r,s,o));const{board:y,linesCleared:m}=ut(r);n(0,r=y),m>0&&(console.log(`Cleared ${m} lines`),n(6,f+=m),n(4,l+=ht(m,c)),n(5,c=Math.floor(f/10)),n(9,u=!0),clearInterval(d),d=setInterval(b,1e3-c*50)),n(1,s=i),n(2,i=a()),n(3,o={x:Math.floor(M/2)-1,y:0}),R(r,s,o)||(console.log("Game Over!"),n(7,h=!0),clearInterval(d))}}function k(E){if(!(h||p))switch(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"," ","p","P"].includes(E.key)&&E.preventDefault(),E.key){case"ArrowLeft":R(r,s,{...o,x:o.x-1})&&n(3,o={...o,x:o.x-1});break;case"ArrowRight":R(r,s,{...o,x:o.x+1})&&n(3,o={...o,x:o.x+1});break;case"ArrowUp":const y={...s,shape:s.shape[0].map((A,$)=>s.shape.map(ee=>ee[$]).reverse())};R(r,y,o)&&n(1,s=y);break;case"ArrowDown":const m={...o,y:o.y+1};R(r,s,m)&&n(3,o=m);break;case" ":for(;R(r,s,{...o,y:o.y+1});)n(3,o={...o,y:o.y+1});break;case"p":case"P":n(8,p=!p);break}}return ge(()=>{window.addEventListener("keydown",k),w()}),Ye(()=>{window.removeEventListener("keydown",k),d&&clearInterval(d)}),[r,s,i,o,l,c,f,h,p,u,w,()=>n(8,p=!0)]}class xt extends Z{constructor(t){super(),Y(this,t,St,At,X,{})}}const De=document.getElementById("app");De||console.error("Target element #app not found!");new xt({target:De});
